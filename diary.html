<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>하노의 일기</title>
    <style>
        /* 나눔손글씨 펜 및 기본 명조체 불러오기 */
        @import url('https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&family=Nanum+Myeongjo:wght@400;700&family=Noto+Serif+KR:wght@300;400&display=swap');

        body { 
            background-color: #fdfaf5; 
            color: #2c2c2c; 
            font-family: 'Nanum Myeongjo', serif; /* 기본 바탕은 명조체 */
            margin: 0; padding: 0; 
            line-height: 2.2; 
        }

        .wrapper { max-width: 700px; margin: 60px auto; padding: 0 20px; min-height: 100vh; display: flex; flex-direction: column; }

        header { text-align: center; margin-bottom: 40px; border-bottom: 1px solid #e0dcd5; padding-bottom: 30px; }
        
        /* [제목: 손글씨 적용] */
        .title { 
            font-family: 'Nanum Pen Script', cursive; 
            font-size: 42px; /* 손글씨체는 크게 보아야 예쁩니다 */
            font-weight: 700; 
            color: #4a4a4a; 
            letter-spacing: -1px; 
        }

        /* [부제목(작자): 손글씨 적용] */
        .author { 
            font-family: 'Nanum Pen Script', cursive;
            font-size: 20px; 
            color: #999; 
            margin-top: 10px; 
        }

        .main-img { width: 100%; height: auto; max-height: 450px; background-color: #111; border: 1px solid #e0dcd5; object-fit: cover; margin-bottom: 40px; }
        #novel-content { min-height: 300px; }

        /* [본문: 손글씨 적용] */
        .content p { 
            font-family: 'Nanum Pen Script', cursive;
            margin-bottom: 35px; 
            text-align: justify; 
            word-break: keep-all; 
            font-size: 24px; /* 본문 가독성을 위해 크기를 키웠습니다 */
            line-height: 1.6;
        }

        /* [암호 입력 UI - 시스템 폰트 유지] */
        .unlock-zone { margin: 40px 0; padding: 20px; border: 1px dashed #e0dcd5; text-align: center; }
        .unlock-input { 
            background: none; border: none; border-bottom: 1px solid #2c2c2c; 
            padding: 5px; width: 200px; text-align: center; font-family: monospace; 
            font-size: 16px; outline: none; text-transform: uppercase;
        }
        .unlock-msg { font-size: 12px; color: #999; margin-top: 10px; font-family: 'Noto Serif KR', serif; }

        .pagination { display: flex; justify-content: center; align-items: center; margin: 60px 0; gap: 10px; font-family: 'Noto Serif KR', serif; }
        .page-item { width: 35px; height: 35px; display: flex; justify-content: center; align-items: center; cursor: pointer; border: 1px solid #e0dcd5; transition: 0.3s; color: #999; text-decoration: none; }
        .page-item.active { background-color: #2c2c2c; color: #fff; border-color: #2c2c2c; font-weight: bold; }
        .page-item.locked { cursor: not-allowed; background-color: #f9f9f9; color: #eee; }
        
        .hidden-truth::selection { background: #2c2c2c; color: #fdfaf5; }
        /* [시스템 연출 스타일 - 손글씨 해제] */
        .hidden-truth { 
            color: #fdfaf5; 
            cursor: text; 
            /* 드래그해서 찾을 때 딱딱한 컴퓨터 폰트로 보이게 함 */
            font-family: 'Courier New', Courier, monospace !important; 
            font-weight: bold;
        }

        .system-error { 
            color: #a94442; 
            /* 에러 메시지는 명확한 고딕체나 시스템 폰트로 표시 */
            font-family: 'Consolas', 'Monaco', monospace !important; 
            background: #f2dede; 
            padding: 2px 6px; 
            border-radius: 3px; 
            font-size: 0.8em; /* 본문보다 살짝 작게 */
        }

        footer { margin-top: auto; padding: 60px 0; border-top: 1px solid #e0dcd5; text-align: center; font-size: 13px; color: #bbb; }
        .fade-in { animation: fadeIn 1s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

<div class="wrapper">
    <header>
        <div class="title">하노의 일기</div>
        <div class="author">이름: 하노</div>
    </header>

    <main id="novel-content" class="fade-in"></main>

    <div class="unlock-zone" id="unlock-zone">
        <input type="text" class="unlock-input" id="unlock-input" placeholder="ENTER ACCESS CODE" maxlength="10">
        <div class="unlock-msg" id="unlock-msg">다음 장으로 가기 위한 코드를 입력하세요.</div>
    </div>

    <nav class="pagination" id="pagination"></nav>

    <footer>
        &copy; 2026 CHRONICLE FOUNDATION. All rights reserved. <br>
        <span id="log-id" style="opacity: 0.3; font-family: monospace;">LOG_ID: B4_SYNC_ACTIVE</span>
    </footer>
</div>

<script>
    const posts = [
        {
            code: "", 
            img: "https://raw.githubusercontent.com/gold-79/immortal_img/refs/heads/main/illusion_table.png",
            content: `
                <p>2025년 3월 10일 금요일 날씨 맑음 <span class="hidden-truth">[U+0043]</span><br>제목 : 중학생 2주차</p>
                <p>중학교에 입학한지도 2주째. 먼지 언니랑 다른 학교로 가게 돼서 걱정했는데, 다행히 몇몇 친구들을 사귈 수 있었다. 
                한 명은 설빔, 과학을 되게 좋아하는데 항상 어려운 말만 해서 알아들을 수가 없다. 항상 그러면 이해하도록 만들어줄 수 있다고 하는데, 조금 무섭다. 
                다른 한 명은 고사리라고 하는데, 나랑 똑같이 그림 그리는 걸 좋아해서 친해지게 되었다. 하지만 가끔 설빔이랑 다른 쪽으로 알아들을 수 없는 말을 한다. 그래도 애는 착하다…</p>
                <p>또 어제 학생증이 나왔다. 보통 중학생 때부터 학생증이 나온다는데, 이제 좀 중학생이 됐다는 느낌이 든다. 
                사진이 잘 나온 것 같아서 만족스럽다. 그런데, 오늘 고사리한테 학생증을 보여주기로 했는데 깜빡하고 집에 두고 갔다. 
                집에 와서 보니 탁자 위에 있었다. 다음주에 가져가서 보여줘야겠다.</p>`,
            logId: "LOG_ID: https://gold-79.github.io/immortal/??????.html"
        },
        {
            code: "C", 
            img: "https://raw.githubusercontent.com/gold-79/immortal_img/refs/heads/main/illusion_dine.png",
            content: `
                    <p>2025년 3월 11일 토요일 날씨 맑음<br>제목 : 외식</p>
                    <p>오늘 <del>엄마남편</del>아빠가 외식을 하러 가자고 했다. 꽤 오랜만에 외식을 하러 가는 거 같은데, 역시 내가 간택한 집이다. 
                        이 집에 오면 굶기는 커녕 마음껏 먹을 수 있을 거라 생각했는데, 그 예상은 틀리지 않았던 것이다. 정작 내가 직접 간택했던 그 엄마는 집을 나갔지만 말이다. 
                        아빠는 별로 맘에 안 들지만 엄마가 좋아서 계속 있던 건데, 엄마도 그 모양인 거 보니 내가 음식 보는 눈은 있어도 사람 보는 눈은 없나 보다.<span class="hidden-truth">[char Name2 = 67;]</span><br></p>
                        <p>그래도 아빠도 먹을 건 잘 챙겨주니까 만족스럽다. 기왕이면 주당 3번 정도 외식을 하면 좋겠지만, 배달음식도 자주 시켜주니 그걸로 봐줄 생각이다.</p>
                        <p>오늘 간 데는 스테이크 집인데 아주 맛있었다. 
                            세트로 주문하니 스테이크 말고도 이런 저런 음식들이 나왔는데, 개인접시가 아닌 음식들은 경쟁하며 먹느라 힘들었다. 
                            어쨌거나 아주 맛있었으니 또 가고 싶다. 다음 주에 또 가자고 해야지.</p>`,
            logId: "LOG_ID: SYNC_PROGRESS_16%"
        },
        {
            code: "CC", 
            img: "https://raw.githubusercontent.com/gold-79/immortal_img/refs/heads/main/illusion_table.png",
            content: `<p>아직 공개되지 않은 일기입니다.</p>`,
            logId: "LOG_ID: SYNC_PROGRESS_32%"
        },
        {
            code: "CCT",
            img: "https://raw.githubusercontent.com/gold-79/immortal_img/refs/heads/main/illusion_table.png",
            content: `<p>아직 공개되지 않은 일기입니다.</p>`,
            logId: "LOG_ID: SYNC_PROGRESS_48%"
        },
        {
            code: "CCTV",
            img: "https://raw.githubusercontent.com/gold-79/immortal_img/refs/heads/main/illusion_table.png",
            content: `<p>아직 공개되지 않은 일기입니다.</p>`,
            logId: "LOG_ID: SYNC_PROGRESS_64%"
        },
        {
            code: "CCTVB",
            img: "https://raw.githubusercontent.com/gold-79/immortal_img/refs/heads/main/illusion_table.png",
            content: `<p>아직 공개되지 않은 일기입니다.</p>`,
            logId: "LOG_ID: SYNC_PROGRESS_100%"
        }
    ];

    let currentPage = 0;
    let unlockedPage = 0; 

    const inputEl = document.getElementById('unlock-input');
    const msgEl = document.getElementById('unlock-msg');

    inputEl.addEventListener('input', (e) => {
        const val = e.target.value.toUpperCase();
        if (unlockedPage < posts.length - 1) {
            if (val === posts[unlockedPage + 1].code) {
                unlockedPage++;
                msgEl.innerText = "ACCESS GRANTED. 신규 데이터가 해금되었습니다.";
                msgEl.style.color = "green";
                renderPagination();
                setTimeout(() => {
                    msgEl.innerText = "다음 장으로 가기 위한 코드를 입력하세요.";
                    msgEl.style.color = "#999";
                    e.target.value = "";
                }, 2000);
            }
        }
    });

    function renderPage(index) {
        if (index > unlockedPage) return; 
        
        currentPage = index;
        const post = posts[index];
        const contentArea = document.getElementById('novel-content');
        
        contentArea.innerHTML = `
            <img src="${post.img}" class="main-img">
            <div class="content">${post.content}</div>
        `;
        document.getElementById('log-id').innerText = post.logId;
        renderPagination();
        window.scrollTo(0, 0);
    }

    function renderPagination() {
        const nav = document.getElementById('pagination');
        nav.innerHTML = '';
        posts.forEach((_, i) => {
            const item = document.createElement('a');
            item.innerText = i + 1;
            if (i <= unlockedPage) {
                item.className = 'page-item' + (i === currentPage ? ' active' : '');
                item.onclick = () => renderPage(i);
            } else {
                item.className = 'page-item locked';
                item.title = "잠겨 있는 기록입니다.";
            }
            nav.appendChild(item);
        });
    }

    renderPage(0);
</script>

</body>

</html>
